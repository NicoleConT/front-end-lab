<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web 实验室</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/front-end-lab/icons/logo.svg">
    <link rel="manifest" href="/front-end-lab/manifest.json">
    <link rel="apple-touch-icon" href="/front-end-lab/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/front-end-lab/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Web 开发笔记与解决方案">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/front-end-lab/assets/css/0.styles.568a1a9e.css" as="style"><link rel="preload" href="/front-end-lab/assets/js/app.44dcfa40.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/2.ffdf50b5.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/20.d6d610a9.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/5.0a576173.js" as="script"><link rel="prefetch" href="/front-end-lab/assets/js/10.0217f7b6.js"><link rel="prefetch" href="/front-end-lab/assets/js/11.f9f5b5b3.js"><link rel="prefetch" href="/front-end-lab/assets/js/12.3aab7914.js"><link rel="prefetch" href="/front-end-lab/assets/js/13.dd7a9b7a.js"><link rel="prefetch" href="/front-end-lab/assets/js/14.0effc555.js"><link rel="prefetch" href="/front-end-lab/assets/js/15.a6789395.js"><link rel="prefetch" href="/front-end-lab/assets/js/16.7060e800.js"><link rel="prefetch" href="/front-end-lab/assets/js/17.2a135925.js"><link rel="prefetch" href="/front-end-lab/assets/js/18.3ba97b36.js"><link rel="prefetch" href="/front-end-lab/assets/js/19.3841f673.js"><link rel="prefetch" href="/front-end-lab/assets/js/21.09b94ef7.js"><link rel="prefetch" href="/front-end-lab/assets/js/22.82a94bc5.js"><link rel="prefetch" href="/front-end-lab/assets/js/23.e089a409.js"><link rel="prefetch" href="/front-end-lab/assets/js/24.e9c624be.js"><link rel="prefetch" href="/front-end-lab/assets/js/25.bd173f55.js"><link rel="prefetch" href="/front-end-lab/assets/js/26.7dd8fa9d.js"><link rel="prefetch" href="/front-end-lab/assets/js/3.7d4a0e19.js"><link rel="prefetch" href="/front-end-lab/assets/js/4.a7e6d322.js"><link rel="prefetch" href="/front-end-lab/assets/js/6.eebdfa60.js"><link rel="prefetch" href="/front-end-lab/assets/js/7.6bbb8163.js"><link rel="prefetch" href="/front-end-lab/assets/js/8.76867459.js"><link rel="prefetch" href="/front-end-lab/assets/js/9.94a4bb3c.js">
    <link rel="stylesheet" href="/front-end-lab/assets/css/0.styles.568a1a9e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-end-lab/" class="home-link router-link-active"><!----> <span class="site-name">Web 实验室</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" class="nav-link">
  REGEXP
</a></div><div class="nav-item"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  面试指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" class="nav-link">
  REGEXP
</a></div><div class="nav-item"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  面试指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end-lab/git/#日常提交流程" class="sidebar-link">日常提交流程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-lab/git/#add" class="sidebar-link">Add</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-lab/git/#commit" class="sidebar-link">Commit</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/git/#撤销还没-push-到远程的-commit" class="sidebar-link">撤销还没 push 到远程的 commit</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#撤销已经-push-到远端的-commit" class="sidebar-link">撤销已经 push 到远端的 commit</a></li></ul></li><li><a href="/front-end-lab/git/#barnch" class="sidebar-link">barnch</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-lab/git/#tag" class="sidebar-link">tag</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-lab/git/#history" class="sidebar-link">history</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-lab/git/#remote" class="sidebar-link">remote</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/git/#合并两个不同仓库的-commit" class="sidebar-link">合并两个不同仓库的 commit</a></li></ul></li><li><a href="/front-end-lab/git/#guide" class="sidebar-link">Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/git/#解决-git目录过大的问题" class="sidebar-link">解决.git目录过大的问题</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#初始化远程仓库" class="sidebar-link">初始化远程仓库</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#清空项目的-commit-记录" class="sidebar-link">清空项目的 commit 记录</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#撤销修改" class="sidebar-link">撤销修改</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#文件夹大小写切换" class="sidebar-link">文件夹大小写切换</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#保留空的文件夹" class="sidebar-link">保留空的文件夹</a></li></ul></li><li><a href="/front-end-lab/git/#常见错误" class="sidebar-link">常见错误</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/git/#在执行-git-pull-origin-master-命令时-无法-pull-的情况" class="sidebar-link">在执行 git pull origin master 命令时，无法 pull 的情况</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#win10-修改-git-密码后无法-pull" class="sidebar-link">win10 修改 git 密码后无法 pull</a></li></ul></li><li><a href="/front-end-lab/git/#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/git/#查看仓库提交者的统计" class="sidebar-link">查看仓库提交者的统计</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#更改项目中作者信息" class="sidebar-link">更改项目中作者信息</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/git/#扩展阅读" class="sidebar-link">扩展阅读</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git"><a href="#git" class="header-anchor">#</a> Git</h1> <ul><li><a href="#%E6%97%A5%E5%B8%B8%E6%8F%90%E4%BA%A4%E6%B5%81%E7%A8%8B">日常提交流程</a></li> <li><a href="#add">Add</a></li> <li><a href="#commit">Commit</a> <ul><li><a href="#%E6%92%A4%E9%94%80%E8%BF%98%E6%B2%A1-push-%E5%88%B0%E8%BF%9C%E7%A8%8B%E7%9A%84-commit">撤销还没 push 到远程的 commit</a></li> <li><a href="#%E6%92%A4%E9%94%80%E5%B7%B2%E7%BB%8F-push-%E5%88%B0%E8%BF%9C%E7%AB%AF%E7%9A%84-commit">撤销已经 push 到远端的 commit</a></li></ul></li> <li><a href="#barnch">barnch</a></li> <li><a href="#tag">tag</a></li> <li><a href="#history">history</a></li> <li><a href="#remote">remote</a> <ul><li><a href="#%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E4%BB%93%E5%BA%93%E7%9A%84-commit">合并两个不同仓库的 commit</a></li></ul></li> <li><a href="#guide">Guide</a> <ul><li><a href="#%E8%A7%A3%E5%86%B3git%E7%9B%AE%E5%BD%95%E8%BF%87%E5%A4%A7%E7%9A%84%E9%97%AE%E9%A2%98">解决.git目录过大的问题</a></li> <li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">初始化远程仓库</a></li> <li><a href="#%E6%B8%85%E7%A9%BA%E9%A1%B9%E7%9B%AE%E7%9A%84-commit-%E8%AE%B0%E5%BD%95">清空项目的 commit 记录</a></li> <li><a href="#%E6%92%A4%E9%94%80%E4%BF%AE%E6%94%B9">撤销修改</a></li> <li><a href="#%E6%96%87%E4%BB%B6%E5%A4%B9%E5%A4%A7%E5%B0%8F%E5%86%99%E5%88%87%E6%8D%A2">文件夹大小写切换</a></li> <li><a href="#%E4%BF%9D%E7%95%99%E7%A9%BA%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9">保留空的文件夹</a></li></ul></li> <li><a href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF">常见错误</a> <ul><li><a href="#%E5%9C%A8%E6%89%A7%E8%A1%8C-git-pull-origin-master-%E5%91%BD%E4%BB%A4%E6%97%B6%E6%97%A0%E6%B3%95-pull-%E7%9A%84%E6%83%85%E5%86%B5">在执行 git pull origin master 命令时，无法 pull 的情况</a></li> <li><a href="#win10-%E4%BF%AE%E6%94%B9-git-%E5%AF%86%E7%A0%81%E5%90%8E%E6%97%A0%E6%B3%95-pull">win10 修改 git 密码后无法 pull</a></li></ul></li> <li><a href="#%E5%85%B6%E4%BB%96">其他</a> <ul><li><a href="#%E6%9F%A5%E7%9C%8B%E4%BB%93%E5%BA%93%E6%8F%90%E4%BA%A4%E8%80%85%E7%9A%84%E7%BB%9F%E8%AE%A1">查看仓库提交者的统计</a></li> <li><a href="#%E6%9B%B4%E6%94%B9%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF">更改项目中作者信息</a></li> <li><a href="#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB">扩展阅读</a></li></ul></li></ul> <details><summary>常见术语解释</summary> <table><thead><tr><th>术语</th> <th>解释</th></tr></thead> <tbody><tr><td>origin</td> <td>默认远端仓库</td></tr> <tr><td>master</td> <td>默认开发分支</td></tr> <tr><td>HEAD</td> <td>默认开发分支</td></tr> <tr><td>HEAD^</td> <td><code>HEAD</code> 父提交</td></tr> <tr><td>tracked</td> <td><code>git</code> 已经追踪文件的修改</td></tr> <tr><td>untracked</td> <td>未跟踪的状态，也就是 <code>git</code> 不认识的新的文件</td></tr> <tr><td>revert</td> <td>回退</td></tr></tbody></table></details> <h2 id="日常提交流程"><a href="#日常提交流程" class="header-anchor">#</a> 日常提交流程</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 跟踪改动过的文件</span>
<span class="token comment"># `git add &lt;file&gt;` or</span>
<span class="token comment"># `git add -A` or</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>

<span class="token comment"># 添加 commit 信息</span>
<span class="token comment"># 不同团队有不同的编写 commit 信息规范，有的项目依赖 commit 的格式来做自动化处理</span>
<span class="token comment"># 常见格式如： `&lt;action&gt; &lt;desc content&gt;`</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;fix: message commit&quot;</span>

<span class="token comment"># 从远程仓库拉取代码，查看是否有冲突</span>
<span class="token comment"># 直接 git pull 可能会有冲突，可采用 rebase 代替默认的 merge 策略减少多余的 commit 提交</span>
<span class="token function">git</span> pull --rebase

<span class="token comment"># 提交改动至默认的远程仓库</span>
<span class="token function">git</span> push

<span class="token comment"># or 同时提交改动至指定远程仓库(orgin)和分支(develop, master)</span>
<span class="token function">git</span> push origin master develop
</code></pre></div><h2 id="add"><a href="#add" class="header-anchor">#</a> Add</h2> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>git add <code>&lt;change file&gt;</code></td> <td>git add <code>&lt;change file&gt;</code>将其添加到 status</td></tr> <tr><td>git add <code>[--all / .]</code></td> <td>添加全部改动的文件</td></tr></tbody></table> <hr> <h2 id="commit"><a href="#commit" class="header-anchor">#</a> Commit</h2> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>git commit -m &quot;<code>&lt;message&gt;</code>&quot;</td> <td>为已经进入<code>stage(暂存的更改)</code>添加<code>commit</code>信息</td></tr> <tr><td>git commit --amend</td> <td>修改上一次提交的<code>commit</code>信息</td></tr></tbody></table> <hr> <h3 id="撤销还没-push-到远程的-commit"><a href="#撤销还没-push-到远程的-commit" class="header-anchor">#</a> 撤销还没 push 到远程的 commit</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 找到需要撤销的 commit 的`前一个` commit_hash(这步可以理解为找到定位的节点</span>
<span class="token comment"># bash 的 commit 顺序是从上(最新 commit)至下的顺序</span>
<span class="token function">git</span> log --online

<span class="token comment"># 撤销 commit, 将代码恢复为前一个版本(会丢失修改的代码)</span>
<span class="token function">git</span> reset --hard commit_hash

<span class="token comment"># or 完成 commit 撤销，可以重新提交 commit(不会丢失修改的代码)</span>
<span class="token function">git</span> reset commit_hash

<span class="token comment"># 如果只 commit 了一次，想给回退到 commit 前上一个版本的话，还可以用`HEAD`代替`hash`(不会丢失修改的代码)</span>
<span class="token comment"># HEAD    就是本次的版本</span>
<span class="token comment"># HEAD~1  就是上一次的版本</span>
<span class="token function">git</span> reset HEAD~1
</code></pre></div><h3 id="撤销已经-push-到远端的-commit"><a href="#撤销已经-push-到远端的-commit" class="header-anchor">#</a> 撤销已经 push 到远端的 commit</h3> <p>在使用<code>git</code>时，有时候我们会无意间错推了我们不想推上去的文件或者希望能够回退以前版本的时候.
这时我们可以先在本地回退到相应的版本。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 注意使用 --hard 参数会抛弃当前工作区的修改</span>
<span class="token comment"># 使用 --soft 参数的话会回退到之前的版本，但是保留当前工作区的修改，可以重新提交</span>
<span class="token function">git</span> reset --hard <span class="token operator">&lt;</span>版本号<span class="token operator">&gt;</span>
</code></pre></div><p>为了覆盖掉远端的版本信息，使远端的仓库也回退到相应的版本，需要加上参数<code>--force</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># branch: 分支</span>
<span class="token function">git</span> push origin <span class="token operator">&lt;</span>branch<span class="token operator">&gt;</span> --force
</code></pre></div><hr> <h2 id="barnch"><a href="#barnch" class="header-anchor">#</a> barnch</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看分支</span>
<span class="token function">git</span> branch

<span class="token comment"># git checkout &lt;branch/tag&gt; 切换指定的分支或标签</span>
<span class="token function">git</span> checkout develop

<span class="token comment"># 切换名为 gh-pages 的分支, 如果不存在这个分支就创建它</span>
<span class="token function">git</span> checkout -b <span class="token string">&quot;gh-pages&quot;</span>

<span class="token comment"># 使当前的分支和远程仓库 `origin2/game` 建立关联（前提是目标分支要存在）</span>
<span class="token comment"># 建立关联后就可以直接使用 `git push` 命令而无需添加其他参数。</span>
<span class="token function">git</span> branch --set-upstream-to orgin2/game
</code></pre></div><h2 id="tag"><a href="#tag" class="header-anchor">#</a> tag</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看所有标签</span>
<span class="token function">git</span> tag

<span class="token comment"># 基于当前 commit 创建标签</span>
<span class="token function">git</span> tag <span class="token operator">&lt;</span>tagname<span class="token operator">&gt;</span>

<span class="token comment"># 删除指定标签</span>
<span class="token function">git</span> tag -d <span class="token operator">&lt;</span>tagname<span class="token operator">&gt;</span>
</code></pre></div><h2 id="history"><a href="#history" class="header-anchor">#</a> history</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看提交历史</span>
<span class="token function">git</span> log

<span class="token comment"># 使用更简洁的模式查看提交历史</span>
<span class="token function">git</span> log --oneline

<span class="token comment"># 查看指定文件的提交历史</span>
<span class="token function">git</span> log -p <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>

<span class="token comment"># 以列表的方式查看指定文件的提交历史</span>
<span class="token function">git</span> blame <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><h2 id="remote"><a href="#remote" class="header-anchor">#</a> remote</h2> <p>添加新的 remote</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> <span class="token operator">&lt;</span>originName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>remoteUrl<span class="token operator">&gt;</span>

<span class="token comment"># example, 添加一个 origin name 为 `newOrigin`</span>
<span class="token function">git</span> remote <span class="token function">add</span> newOrigin https://github.com/anran758/front-end-lab.git
</code></pre></div><p>将本地分支推送到存在依赖关系的远端分支，如果 remote 没有推送的分支，那就新建一个:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push origin master
</code></pre></div><p>推送当前分支并与 remote 上游建立跟踪</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push --set-upstream origin master
</code></pre></div><p>设置上游并推送至远程的 <code>master</code> 分支</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push -u origin master

<span class="token comment"># 以下两条与上面一条功能相似</span>
<span class="token function">git</span> push origin master
<span class="token function">git</span> branch --set-upstream-to orgin/master
</code></pre></div><h3 id="合并两个不同仓库的-commit"><a href="#合并两个不同仓库的-commit" class="header-anchor">#</a> 合并两个不同仓库的 commit</h3> <p>首先我们有两个仓库: <code>repo1</code> 和 <code>repo2</code>。<code>repo1</code> 是我们想要保留的仓库：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 添加远程地址</span>
<span class="token function">git</span> remote <span class="token function">add</span> repo2 git@github.com:anran758/repo2.git

<span class="token comment"># 拉取代码</span>
<span class="token function">git</span> fetch repo2

<span class="token comment"># 切换至 master 分支</span>
<span class="token function">git</span> checkout master

<span class="token comment"># 合并 repo2 的 master</span>
<span class="token comment"># 由于两个 master 分支的 commit 会有所不同，此时需要添加：</span>
<span class="token comment"># --allow-unrelated-histories, 允许 git 合并不相关的历史，其余有冲突让我们手动确认</span>
<span class="token function">git</span> merge repo2/master --allow-unrelated-histories

<span class="token comment"># 合并冲突、后提交 commit</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;chg: 合并两个仓库的历史&quot;</span>
<span class="token function">git</span> push
</code></pre></div><h2 id="guide"><a href="#guide" class="header-anchor">#</a> Guide</h2> <h3 id="解决-git目录过大的问题"><a href="#解决-git目录过大的问题" class="header-anchor">#</a> 解决.git目录过大的问题</h3> <details><summary>Click show details</summary> <blockquote><p><a href="https://www.zhihu.com/question/29769130/answer/315745139" target="_blank" rel="noopener noreferrer">如何解决 GitHub 提交次数过多 .git 文件过大的问题？ - 作者：郑宇<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>项目中上传了一些很大的文件(文件过大在<code>git cached</code>中占用了很大空间，可能是几百M)，经过了一段时间后又将这些文件移除，并且确定不在使用后，可以使用下面命令在树中移除它:</p> <ol><li><p>运行 gc ，生成 pack 文件（后面的 --prune=now 表示对之前的所有提交做修剪，有的时候仅仅 gc 一下.git 文件就会小很多）</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> gc --prune<span class="token operator">=</span>now
</code></pre></div></li> <li><p>找出最大的三个文件（看自己需要）</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> verify-pack -v .git/objects/pack/*.idx <span class="token operator">|</span> <span class="token function">sort</span> -k <span class="token number">3</span> -n <span class="token operator">|</span> <span class="token function">tail</span> -3
<span class="token comment"># 示例输出：</span>
<span class="token comment">#1debc758cf31a649c2fc5b0c59ea1b7f01416636 blob   4925660 3655422 14351</span>
<span class="token comment">#c43a8da9476f97e84b52e0b34034f8c2d93b4d90 blob   154188651 152549294 12546842</span>
<span class="token comment">#2272096493d061489349e0a312df00dcd0ec19a2 blob   155414465 153754005 1650961363</span>
</code></pre></div></li> <li><p>查看那些大文件究竟是谁（c43a8da 是上面大文件的hash码）</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> rev-list --objects --all <span class="token operator">|</span> <span class="token function">grep</span> c43a8da
<span class="token comment"># c43a8da9476f97e84b52e0b34034f8c2d93b4d90 data/bigfile</span>
</code></pre></div></li> <li><p>使用<code>git filter-branch</code>移除对文件的引用重写分支。因为我想删除的是一个目录(<code>Books</code>)，因此需要加上递归(<code>-r</code>)来移除<code>Book</code>文件夹下的文件.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> filter-branch --index-filter  <span class="token string">'git rm -r --cached --ignore-unmatch Books'</span> --prune-empty --tag-name-filter <span class="token function">cat</span> --force -- --all
</code></pre></div></li> <li><p>进行 <code>repack</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> for-each-ref --format<span class="token operator">=</span><span class="token string">'delete %(refname)'</span> refs/original <span class="token operator">|</span> <span class="token function">git</span> update-ref --stdin
<span class="token function">git</span> reflog expire --expire<span class="token operator">=</span>now --all
<span class="token function">git</span> gc --prune<span class="token operator">=</span>now
</code></pre></div></li> <li><p>查看 pack 的空间使用情况</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> count-objects -v
</code></pre></div></li></ol></details> <h3 id="初始化远程仓库"><a href="#初始化远程仓库" class="header-anchor">#</a> 初始化远程仓库</h3> <p>假设你已经在远程储存库上创建了新的库(<code>test</code>)，此时需要将本地项目的代码关联并推送到远程仓库上去:</p> <details><summary>Click show details</summary> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token builtin class-name">test</span>

<span class="token comment"># 初始化 git</span>
<span class="token function">git</span> init

<span class="token comment"># 添加全部改动</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>

<span class="token comment"># 添加 commit 信息</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;init message&quot;</span>

<span class="token comment"># 添加远程地址，提交代码至远程，并设置为追踪分支</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin git@github.com:anran758/test.git
<span class="token function">git</span> push -u origin master
</code></pre></div></details> <h3 id="清空项目的-commit-记录"><a href="#清空项目的-commit-记录" class="header-anchor">#</a> 清空项目的 commit 记录</h3> <p>当一个项目已经存在久远，或者说<code>commit</code>记录有很多历史遗留的问题，分支线跟地铁图似得。此时你想重置 <code>git</code> 线时，可以这样做:</p> <details><summary>Click show code</summary> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 先从远端克隆一份仓库，不要在原先本地项目直接进行操作</span>
<span class="token function">git</span> clone git@github.com:anran758/test.git
<span class="token builtin class-name">cd</span> <span class="token builtin class-name">test</span>

<span class="token comment"># 创建一个临时分支</span>
<span class="token function">git</span> checkout --orphan tmp

<span class="token comment"># 在新的分支中添加全部文件进去，并提交 commit</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;commit message&quot;</span>

<span class="token comment"># 删除分支</span>
<span class="token function">git</span> branch -D master

<span class="token comment"># 此时所处于的分支在 tmp 分支， 将 tmp 更名为 master</span>
<span class="token function">git</span> branch -m master

<span class="token comment"># 强制推入远程仓库即可</span>
<span class="token function">git</span> push -f origin master
</code></pre></div></details> <h3 id="撤销修改"><a href="#撤销修改" class="header-anchor">#</a> 撤销修改</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 只删除所有`untracked`的文件</span>
<span class="token comment"># 如果文件已经被`tracked`, 修改过的文件不会被回退</span>
<span class="token function">git</span> clean -df

<span class="token comment"># 把`tracked`的文件回退到前一个版本</span>
<span class="token comment"># 对于`untracked`的文件(比如编译的临时文件)都不会被删除</span>
<span class="token function">git</span> reset --hard

<span class="token comment"># 撤销指定未提交的修改内容</span>
<span class="token function">git</span> checkout HEAD <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><h3 id="文件夹大小写切换"><a href="#文件夹大小写切换" class="header-anchor">#</a> 文件夹大小写切换</h3> <p>如果你提交了一个文件夹名为<code>FOO</code>，然后你现在想修改为小写的<code>foo</code>时，你会发现直接修改文件名<code>git</code>是不识别的。因为在默认情况下，<code>git</code>是不区分文件名大小写。</p> <p>这时有两个解决方法：</p> <details><summary>Click show details</summary> <p><strong>(推荐)</strong> 通过 <code>git mv</code> 方法来改名。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 回避系统对大小写的判定，先修改为其他的名字, git 会将修改自动添加到工作区上</span>
$ <span class="token function">git</span> <span class="token function">mv</span> FOO FOO1

<span class="token comment"># 再将名字修改回小写的状态，修改后的操作会自动添加到工作区上, 这样就完成了名字的修改</span>
$ <span class="token function">git</span> <span class="token function">mv</span> FOO1 foo

<span class="token comment"># 提交修改</span>
$ <span class="token function">git</span> commit -m <span class="token string">&quot;Modify dir name&quot;</span>
</code></pre></div><p><strong>(不推荐)</strong> 直接设置 <code>git config</code> 区分大小写，但弊端在不同平台下可能会引起别的问题。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 配置仓库的大小写敏感</span>
$ <span class="token function">git</span> config core.ignorecase <span class="token boolean">false</span>
</code></pre></div></details> <h3 id="保留空的文件夹"><a href="#保留空的文件夹" class="header-anchor">#</a> 保留空的文件夹</h3> <details><summary>Click show details</summary> <p>在默认情况下，<code>git</code> 会忽略掉空的文件夹。如果想要保留这个文件夹的话，可以在里面创建一个名为<code>.gitkeep</code>的空文件(名字是社区约定形成，也可以使用其他名字，原理上只是占个坑).</p> <p>不过<code>windows</code>平台下不能直接右键创建<code>.</code>开头的文件，系统会认为文件名不合法。这时需要使用命令行或者编辑器来完成创建。</p></details> <h2 id="常见错误"><a href="#常见错误" class="header-anchor">#</a> 常见错误</h2> <h3 id="在执行-git-pull-origin-master-命令时-无法-pull-的情况"><a href="#在执行-git-pull-origin-master-命令时-无法-pull-的情况" class="header-anchor">#</a> 在执行 git pull origin master 命令时，无法 pull 的情况</h3> <details><summary>show details</summary> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> pull
$ fatal: refusing to merge unrelated histories
<span class="token comment"># 原因是说在 git 2.9版本后，需要加上这句 --allow-unrelated-histories。</span>
<span class="token function">git</span> pull origin master --allow-unrelated-histories
</code></pre></div><hr> <p>使用<code>git pull</code>遇到合并<code>commit</code>时，此时并不想因为合并代码多产生一条<code>commit</code>记录，可以将<code>commit</code>信息注释掉，<code>shift + :wq</code>退出。</p> <p>然后会因为自动合并失败后提示错误:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Auto-merging pages/index/index.js
error: Empty commit message.
Not committing merge<span class="token punctuation">;</span> use <span class="token string">'git commit'</span> to complete the merge.
</code></pre></div><p>撤消合并并再次拉动，使用<code>rebase</code>解决冲突：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> merge --abort
$ <span class="token function">git</span> pull --rebase
First, rewinding <span class="token function">head</span> to replay your work on <span class="token function">top</span> of it<span class="token punctuation">..</span>.
Applying: fix: fixed something
$ <span class="token function">git</span> push
</code></pre></div></details> <h3 id="win10-修改-git-密码后无法-pull"><a href="#win10-修改-git-密码后无法-pull" class="header-anchor">#</a> win10 修改 git 密码后无法 pull</h3> <p>Error info:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>remote: Invalid username or password
</code></pre></div><p>解决方案:</p> <p>打开 控制面板 -&gt; 用户账号 -&gt; 管理 windows 凭证 -&gt; 选择 <code>git:https://github.com</code> -&gt; 编辑 -&gt; 输入修改后的密码</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h3 id="查看仓库提交者的统计"><a href="#查看仓库提交者的统计" class="header-anchor">#</a> 查看仓库提交者的统计</h3> <div class="language-git extra-class"><pre class="language-git"><code><span class="token comment"># 查看选项</span>
git shortlog --help

<span class="token comment"># 统计排除合并提交</span>
git shortlog -sn --no-merges
</code></pre></div><h3 id="更改项目中作者信息"><a href="#更改项目中作者信息" class="header-anchor">#</a> 更改项目中作者信息</h3> <p><a href="https://help.github.com/en/articles/changing-author-info" target="_blank" rel="noopener noreferrer">git 更改作者信息<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>同样的方法还可以修改 commit 时间为作者时间:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> filter-branch --env-filter <span class="token string">'GIT_COMMITTER_DATE=<span class="token variable">$GIT_AUTHOR_DATE</span>; export GIT_COMMITTER_DATE'</span>
</code></pre></div><h3 id="扩展阅读"><a href="#扩展阅读" class="header-anchor">#</a> 扩展阅读</h3> <ul><li><a href="/front-end-lab/operations/#vim">vim 常用命令</a></li> <li><a href="https://github.blog/2020-04-09-github-protips-tips-tricks-hacks-and-secrets-from-lee-reilly" target="_blank" rel="noopener noreferrer">GitHub Protips: Tips, tricks, hacks, and secrets from Lee Reilly<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anran758/front-end-lab/edit/master/docs/git/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/1/14 下午2:14:34</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/front-end-lab/assets/js/app.44dcfa40.js" defer></script><script src="/front-end-lab/assets/js/2.ffdf50b5.js" defer></script><script src="/front-end-lab/assets/js/20.d6d610a9.js" defer></script><script src="/front-end-lab/assets/js/5.0a576173.js" defer></script>
  </body>
</html>
